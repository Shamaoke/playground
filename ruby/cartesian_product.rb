@a = [1, 2, 3]
@b = [4, 5, 6]
@c = [7, 8, 9]

@abc = [@a, @b, @c]
@acb = [@a, @c, @b]
@bac = [@b, @a, @c]
@bca = [@b, @c, @a]
@cab = [@c, @a, @b]
@cba = [@c, @b, @a]

@list = [ @abc, @acb, @bac, @bca, @cab, @cba ]

@_f = -> l {
      -> r { (l[0].empty? and l[1].empty? and l[2].empty?) ? r : @_f.([l[0][1..-1], l[1][1..-1], l[2][1..-1]]).([ *r, [l[0][0], l[1][0], l[2][0]] ] ) } }

@_g = -> l {
      -> r { l.empty? ? r : @_g.(@_f.([ l[0][1..-1], l[1][1..-1], l[2][1..-1], l[3][1..-1], l[4][1..-1], l[5][1..-1] ]).([ ])).([*r, [l[0]]]) } }
